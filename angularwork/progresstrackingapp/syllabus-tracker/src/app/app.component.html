<div class="container mt-4">
  <h2 class="text-center">Syllabus Tracker</h2>
  <button class="btn btn-primary mb-3" (click)="addSubject()">Add Subject</button>
  <div *ngFor="let subject of subjects; let i = index" class="card mb-3">
    <div class="card-header d-flex justify-content-between">
      <h5>{{ subject.name }}</h5>
      <button class="btn btn-danger btn-sm" (click)="deleteSubject(i)">Delete</button>
    </div>
    <div class="card-body">
      <button class="btn btn-success btn-sm mb-2" (click)="addTopic(subject)">Add Topic</button>
      <div *ngFor="let topic of subject.topics; let j = index" class="mb-2">
        <strong>{{ topic.name }}</strong>
        <button class="btn btn-danger btn-sm ms-2" (click)="deleteTopic(subject, j)">Delete</button>
        <button class="btn btn-info btn-sm ms-2" (click)="addSubtopic(topic)">Add Subtopic</button>
        <div *ngFor="let subtopic of topic.subtopics; let k = index" class="form-check mt-1">
          <input class="form-check-input" type="checkbox" [(ngModel)]="subtopic.done" (change)="toggleSubtopic(subtopic, topic)">
          <label class="form-check-label">{{ subtopic.name }}</label>
          <button class="btn btn-danger btn-sm ms-2" (click)="deleteSubtopic(topic, k)">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>

<router-outlet />
